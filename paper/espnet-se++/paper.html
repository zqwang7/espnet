<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Summary &mdash; ESPnet 202308 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESPnet
          </a>
              <div class="version">
                202308
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Common usages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parallelization.html">Using job scheduling system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker.html">Docker</a></li>
</ul>
<p><span class="caption-text">ESPnet1:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../espnet1_tutorial.html">Usage</a></li>
</ul>
<p><span class="caption-text">ESPnet2:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_tutorial.html">ESPnet2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_tutorial.html#instruction-for-run-sh">Instruction for run.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_training_option.html">Change the configuration for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_format_wav_scp.html">Converting audio file formats using format_wav_scp.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_task.html">Task class and data input system for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../espnet2_distributed.html">Distributed training</a></li>
</ul>
<p><span class="caption-text">Notebook:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/DataPreparation_CMU_11492_692_Spring2023(Assignment0).html">CMU 11492/11692 Spring 2023: Data preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/DataPreparation_CMU_11492_692_Spring2023(Assignment0).html#Data-preparation-in-ESPnet">Data preparation in ESPnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/SpeechEnhancement_CMU_11492_692_Spring2023(Assignment7).html">CMU 11492/11692 Spring 2023: Speech Enhancement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/SpeechEnhancement_CMU_11492_692_Spring2023(Assignment7).html#Contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/SpokenLanguageUnderstanding_CMU_11492_692_Spring2023(Assignment6).html">CMU 11492/11692 Spring 2023: Spoken Language Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/TextToSpeech_CMU_11492_692_Spring2023(Assignment8).html">CMU 11492/11692 Spring 2023: Text to Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/asr_cli.html">Speech Recognition (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/asr_library.html">Speech Recognition (Library)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_2pass_slu_demo.html">ESPNET 2 pass SLU Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_asr_realtime_demo.html">ESPnet2-ASR realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_asr_transfer_learning_demo.html"><strong>Use transfer learning for ASR in ESPnet2</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_asr_transfer_learning_demo.html#Abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_asr_transfer_learning_demo.html#ESPnet-installation-(about-10-minutes-in-total)">ESPnet installation (about 10 minutes in total)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_asr_transfer_learning_demo.html#mini_an4-recipe-as-a-transfer-learning-example">mini_an4 recipe as a transfer learning example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html">CMU 11751/18781 Fall 2022: ESPnet Tutorial2 (New task)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html#Install-ESPnet-(Almost-same-procedure-as-your-first-tutorial)">Install ESPnet (Almost same procedure as your first tutorial)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html#What-we-provide-you-and-what-you-need-to-proceed">What we provide you and what you need to proceed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html">CMU 11751/18781 Fall 2022: ESPnet Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Install-ESPnet">Install ESPnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Run-an-existing-recipe">Run an existing recipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Make-a-new-recipe">Make a new recipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Additional-resources">Additional resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_streaming_asr_demo.html">ESPnet2 real streaming Transformer demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_tts_realtime_demo.html">ESPnet2-TTS realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_tutorial_2021_CMU_11751_18781.html">CMU 11751/18781 2021: ESPnet Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-an-inference-example">Run an inference example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Full-installation">Full installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-a-recipe-example">Run a recipe example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet_se_demonstration_for_waspaa_2021.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet_se_demonstration_for_waspaa_2021.html#Contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet_se_demonstration_for_waspaa_2021.html#(1)-Tutorials-on-the-Basic-Usage">(1) Tutorials on the Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/espnet_se_demonstration_for_waspaa_2021.html#(2)-Tutorials-on-Contributing-to-ESPNet-SE-Project">(2) Tutorials on Contributing to ESPNet-SE Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/onnx_conversion_demo.html">espnet_onnx demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/onnx_conversion_demo.html#Install-Dependency">Install Dependency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/onnx_conversion_demo.html#Export-your-model">Export your model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/onnx_conversion_demo.html#Inference-with-onnx">Inference with onnx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/onnx_conversion_demo.html#Using-streaming-model">Using streaming model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/pretrained.html">Pretrained Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/se_demo.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/st_demo.html">ESPnet Speech Translation Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/tts_cli.html">Text-to-Speech (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook/tts_realtime_demo.html">ESPnet real time E2E-TTS demonstration</a></li>
</ul>
<p><span class="caption-text">Package Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.distributed.html">espnet.distributed package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.tts.html">espnet.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.asr.html">espnet.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.st.html">espnet.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.transform.html">espnet.transform package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.bin.html">espnet.bin package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.optimizer.html">espnet.optimizer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.nets.html">espnet.nets package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.scheduler.html">espnet.scheduler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.vc.html">espnet.vc package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.mt.html">espnet.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.lm.html">espnet.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet.utils.html">espnet.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.svs.html">espnet2.svs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.tts.html">espnet2.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.asr.html">espnet2.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.asr_transducer.html">espnet2.asr_transducer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.st.html">espnet2.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.bin.html">espnet2.bin package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.asvspoof.html">espnet2.asvspoof package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.schedulers.html">espnet2.schedulers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.gan_svs.html">espnet2.gan_svs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.fileio.html">espnet2.fileio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.slu.html">espnet2.slu package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.hubert.html">espnet2.hubert package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.gan_tts.html">espnet2.gan_tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.optimizers.html">espnet2.optimizers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.uasr.html">espnet2.uasr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.spk.html">espnet2.spk package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.enh.html">espnet2.enh package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.train.html">espnet2.train package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.main_funcs.html">espnet2.main_funcs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.samplers.html">espnet2.samplers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.mt.html">espnet2.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.fst.html">espnet2.fst package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.lm.html">espnet2.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.layers.html">espnet2.layers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.utils.html">espnet2.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.tasks.html">espnet2.tasks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.iterators.html">espnet2.iterators package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.text.html">espnet2.text package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.torch_utils.html">espnet2.torch_utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_gen/espnet2.diar.html">espnet2.diar package</a></li>
</ul>
<p><span class="caption-text">Tool Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../apis/espnet_bin.html">core tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apis/espnet2_bin.html">core tools (espnet2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apis/utils_py.html">python utility tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apis/utils_sh.html">bash utility tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESPnet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Summary</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/paper/espnet-se++/paper.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <hr class="docutils" />
<p>title: ‘Software Design and User Interface of ESPnet-SE++: Speech Enhancement for Robust Speech Processing’
tags:</p>
<ul class="simple">
<li><p>Python</p></li>
<li><p>ESPnet</p></li>
<li><p>speech processing</p></li>
<li><p>speech enhancement
authors:</p></li>
<li><p>name: Yen-Ju Lu
orcid: 0000-0001-8400-4188
equal-contrib: true
affiliation: 1</p></li>
<li><p>name: Xuankai Chang
orcid: 0000-0002-5221-5412
equal-contrib: true
affiliation: 2</p></li>
<li><p>name: Chenda Li
orcid: 0000-0003-0299-9914
affiliation: 3</p></li>
<li><p>name: Wangyou Zhang
orcid: 0000-0003-4500-3515
affiliation: 3</p></li>
<li><p>name: Samuele Cornell
orcid: 0000-0002-5358-1844
affiliation: “2, 4”</p></li>
<li><p>name: Zhaoheng Ni
affiliation: 5</p></li>
<li><p>name: Yoshiki Masuyama
affiliation: “2, 6”</p></li>
<li><p>name: Brian Yan
affiliation: 2</p></li>
<li><p>name: Robin Scheibler
orcid: 0000-0002-5205-8365
affiliation: 7</p></li>
<li><p>name: Zhong-Qiu Wang
orcid: 0000-0002-4204-9430
affiliation: 2</p></li>
<li><p>name: Yu Tsao
orcid: 0000-0001-6956-0418
affiliation: 8</p></li>
<li><p>name: Yanmin Qian
orcid: 0000-0002-0314-3790
affiliation: 3</p></li>
<li><p>name: Shinji Watanabe
corresponding: true
orcid: 0000-0002-5970-8631
affiliation: 2
affiliations:</p></li>
<li><p>name: Johns Hopkins University, USA
index: 1</p></li>
<li><p>name: Carnegie Mellon University, USA
index: 2</p></li>
<li><p>name: Shanghai Jiao Tong University, Shanghai
index: 3</p></li>
<li><p>name: Universita` Politecnica delle Marche, Italy
index: 4</p></li>
<li><p>name: Meta AI, USA
index: 5</p></li>
<li><p>name: Tokyo Metropolitan University, Japan
index: 6</p></li>
<li><p>name: LINE Corporation, Japan
index: 7</p></li>
<li><p>name: Academia Sinica, Taipei
index: 8
date: 22 August 2022
bibliography: paper.bib</p></li>
</ul>
<hr class="docutils" />
<p><img alt="The Joint-task Systems of SSE with ASR, ST, and SLU in ESPnet-SE++." src="paper/espnet-se++/graphics/espnet-SE%2B%2B.png" /></p>
<section id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<p>This paper presents the software design and user interface of ESPnet-SE++, a new speech separation and enhancement (SSE) module of the ESPnet toolkit.
ESPnet-SE++ significantly expands the functionality of ESPnet-SE [&#64;Li:2021] with several new models, loss functions, and training recipes [&#64;Lu:2022]. Crucially, it features a new, redesigned interface, which allows for a flexible combination of SSE front-ends with many downstream tasks, including automatic speech recognition (ASR), speaker diarization (SD), speech translation (ST), and spoken language understanding (SLU).</p>
</section>
<section id="statement-of-need">
<h1>Statement of need<a class="headerlink" href="#statement-of-need" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/espnet/espnet">ESPnet</a> is an open-source toolkit for speech processing, including several ASR, text-to-speech (TTS) [&#64;Hayashi:2020], ST [&#64;Inaguma:2020], machine translation (MT), SLU [&#64;Arora:2022], and SSE recipes [&#64;Watanabe:2018]. Compared with other open-source SSE toolkits, such as Nussl [&#64;Manilow:2018], Onssen [&#64;Ni:2019], Asteroid [&#64;Pariente:2020], and SpeechBrain [&#64;Ravanelli:2021], the modularized design in ESPnet-SE++ allows for the joint training of SSE modules with other tasks. Currently, ESPnet-SE++ supports 20 SSE recipes with 24 different enhancement/separation models.</p>
</section>
<section id="espnet-se-recipes-and-software-structure">
<h1>ESPnet-SE++ Recipes and Software Structure<a class="headerlink" href="#espnet-se-recipes-and-software-structure" title="Permalink to this headline">¶</a></h1>
<section id="espnet-se-recipes-for-sse-and-joint-task">
<h2>ESPNet-SE++ Recipes for SSE and Joint-Task<a class="headerlink" href="#espnet-se-recipes-for-sse-and-joint-task" title="Permalink to this headline">¶</a></h2>
<p>For each task, ESPnet-SE++, following the ESPnet2 style, provides common scripts which are carefully designed to work out-of-the-box with a wide variety of corpora. The recipes for different corpora are under the <code class="docutils literal notranslate"><span class="pre">egs2/</span></code> folder. Under the <code class="docutils literal notranslate"><span class="pre">egs2/TEMPLATE</span></code> folder, the common scripts <code class="docutils literal notranslate"><span class="pre">enh1/enh.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">enh_asr1/enh_asr.sh</span></code> are shared for all the SSE and joint-task recipes. The directory structure can be found in <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/TEMPLATE/enh_asr1/README.md">TEMPLATE/enh_asr1/README.md</a>.</p>
<section id="common-scripts">
<h3>Common Scripts<a class="headerlink" href="#common-scripts" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">enh.sh</span></code> contains 13 stages, and the details for the scripts can be found in <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/TEMPLATE/enh1/README.md">TEMPLATE/enh1/README.md</a>.</p>
<p><img alt="../../_images/enh_script.png" src="../../_images/enh_script.png" /></p>
<p><code class="docutils literal notranslate"><span class="pre">enh_asr.sh</span></code> contains 17 stages, and the details for the scripts can be found in <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/TEMPLATE/enh_asr1/README.md">TEMPLATE/enh_asr1/README.md</a>. The <code class="docutils literal notranslate"><span class="pre">enh_diar.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">enh_st.sh</span></code> are similar to it.</p>
<p><img alt="../../_images/enh_asr_script.png" src="../../_images/enh_asr_script.png" /></p>
</section>
<section id="training-configuration">
<h3>Training Configuration<a class="headerlink" href="#training-configuration" title="Permalink to this headline">¶</a></h3>
<section id="sse-task-training-configuration">
<h4>SSE Task Training Configuration<a class="headerlink" href="#sse-task-training-configuration" title="Permalink to this headline">¶</a></h4>
<p>An example of an enhancement task for the CHiME-4 <code class="docutils literal notranslate"><span class="pre">enh1</span></code>  recipe is configured as <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/chime4/enh1/conf/tuning/train_enh_dprnn_tasnet.yaml"><code class="docutils literal notranslate"><span class="pre">conf/tuning/train_enh_dprnn_tasnet.yaml</span></code></a>. This file includes the specific types of <code class="docutils literal notranslate"><span class="pre">encoder</span></code>, <code class="docutils literal notranslate"><span class="pre">decoder</span></code>, <code class="docutils literal notranslate"><span class="pre">separator</span></code>, and their respective settings. Furthermore, the file also defines the training setup and <code class="docutils literal notranslate"><span class="pre">criterions</span></code>.</p>
</section>
<section id="joint-task-training-configuration">
<h4>Joint-Task Training Configuration<a class="headerlink" href="#joint-task-training-configuration" title="Permalink to this headline">¶</a></h4>
<p>An example of joint-task training configuration is the CHiME-4 <code class="docutils literal notranslate"><span class="pre">enh_asr1</span></code> recipe, configured as <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/chime4/enh_asr1/conf/tuning/train_enh_asr_convtasnet_si_snr_fbank_transformer_lr2e-3_accum2_warmup20k_specaug.yaml"><code class="docutils literal notranslate"><span class="pre">conf/tuning/train_enh_asr_convtasnet.yaml</span></code></a>. This joint-task comprises of a front-end SSE model and a back-end ASR model. The configuration file includes specifications for the  <code class="docutils literal notranslate"><span class="pre">encoder</span></code>, <code class="docutils literal notranslate"><span class="pre">decoder</span></code>, <code class="docutils literal notranslate"><span class="pre">separator</span></code>, and <code class="docutils literal notranslate"><span class="pre">criterions</span></code> of both the SSE and ASR models,using prefixes such as <code class="docutils literal notranslate"><span class="pre">enh_</span></code> and <code class="docutils literal notranslate"><span class="pre">asr_</span></code>.</p>
</section>
</section>
</section>
<section id="espnet-se-software-structure-for-sse-task">
<h2>ESPNet-SE++ Software Structure for SSE Task<a class="headerlink" href="#espnet-se-software-structure-for-sse-task" title="Permalink to this headline">¶</a></h2>
<p>The directory structure for the SSE python files can be found in <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/TEMPLATE/enh1/README.md">TEMPLATE/enh1/README.md</a>. Additionally, the UML diagram for the enhancement-only task in ESPNet-SE++ is provided below.</p>
<p><img alt="UML Diagram for Speech Separation and Enhancement in ESPnet-SE++" src="../../_images/UML_SSE.png" /></p>
<section id="sse-executable-code-bin">
<h3>SSE Executable Code <code class="docutils literal notranslate"><span class="pre">bin/*</span></code><a class="headerlink" href="#sse-executable-code-bin" title="Permalink to this headline">¶</a></h3>
<section id="bin-enh-train-py">
<h4>bin/enh_train.py<a class="headerlink" href="#bin-enh-train-py" title="Permalink to this headline">¶</a></h4>
<p>As the main interface for the SSE training stage of <code class="docutils literal notranslate"><span class="pre">enh.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">enh_train.py</span></code> takes the training parameters and model configurations from the arguments and calls</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="n">EnhancementTask</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>to build an SSE object <code class="docutils literal notranslate"><span class="pre">ESPnetEnhancementModel</span></code> for training the SSE model according to the model configuration.</p>
</section>
<section id="bin-enh-inference-py">
<h4>bin/enh_inference.py<a class="headerlink" href="#bin-enh-inference-py" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">inference</span></code> function in <code class="docutils literal notranslate"><span class="pre">enh_inference.py</span></code> creates a</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">SeparateSpeech</span>
</pre></div>
</div>
<p>object with the data-iterator for testing and validation. During its initialization, this class instantiate an SSE object <code class="docutils literal notranslate"><span class="pre">ESPnetEnhancementModel</span></code> based on a pair of configuration and a pre-trained SSE model.</p>
</section>
<section id="bin-enh-scoring-py">
<h4>bin/enh_scoring.py<a class="headerlink" href="#bin-enh-scoring-py" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">def</span> <span class="nf">scoring</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">ref_scp</span><span class="p">,</span> <span class="n">inf_scp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The SSE scoring functions calculates several popular objective scores such as SI-SDR [&#64;le:2019], STOI [&#64;Taal:2011], SDR and PESQ [&#64;Rix:2001], based on the reference signal and processed speech pairs.</p>
</section>
</section>
<section id="sse-control-class-tasks-enh-py">
<h3>SSE Control Class <code class="docutils literal notranslate"><span class="pre">tasks/enh.py</span></code><a class="headerlink" href="#sse-control-class-tasks-enh-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">EnhancementTask</span><span class="p">(</span><span class="n">AbsTask</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EnhancementTask</span></code> is a control class which is designed for SSE tasks. It contains class methods for building and training an SSE model. Class method  <code class="docutils literal notranslate"><span class="pre">build_model</span></code> creates and returns an SSE object <code class="docutils literal notranslate"><span class="pre">ESPnetEnhancementModel</span></code>.</p>
</section>
<section id="sse-modules-enh-espnet-model-py">
<h3>SSE Modules <code class="docutils literal notranslate"><span class="pre">enh/espnet_model.py</span></code><a class="headerlink" href="#sse-modules-enh-espnet-model-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">ESPnetEnhancementModel</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ESPnetEnhancementModel</span></code> is the base class for any ESPnet-SE++ SSE model. Since it inherits the same abstract base class <code class="docutils literal notranslate"><span class="pre">AbsESPnetModel</span></code>, it is well-aligned with other tasks such as ASR, TTS, ST, and SLU, bringing the benefits of cross-tasks combination.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">def</span>  <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speech_mix</span><span class="p">,</span> <span class="n">speech_ref</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">forward</span></code> function of <code class="docutils literal notranslate"><span class="pre">ESPnetEnhancementModel</span></code>  follows the general design in the ESPnet single-task modules, which processes speech and only returns losses for <a class="reference external" href="https://github.com/espnet/espnet/blob/master/espnet2/train/trainer.py#L87-L108">Trainer</a> to update the model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> 	<span class="k">def</span>  <span class="nf">forward_enhance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speech_mix</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
 	<span class="k">def</span>  <span class="nf">forward_loss</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speech_pre</span><span class="p">,</span> <span class="n">speech_ref</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>For more flexible combinations, the <code class="docutils literal notranslate"><span class="pre">forward_enhance</span></code> function returns the enhanced speech, and the <code class="docutils literal notranslate"><span class="pre">forward_loss</span></code> function returns the loss. The joint-training methods take the enhanced speech as the input for the downstream task and the SSE loss as a part of the joint-training loss.</p>
</section>
</section>
<section id="espnet-se-software-structure-for-joint-task">
<h2>ESPNet-SE++ Software Structure for Joint-Task<a class="headerlink" href="#espnet-se-software-structure-for-joint-task" title="Permalink to this headline">¶</a></h2>
<p>The directory structure for the SSE python files can be found in <a class="reference external" href="https://github.com/espnet/espnet/blob/master/egs2/TEMPLATE/enh_asr1/README.md">TEMPLATE/enh_asr1/README.md</a>. Furthermore, the UML diagram for the joint-task in ESPNet-SE++ is displayed below.</p>
<p><img alt="UML Diagram for Joint-Task in ESPnet-SE++" src="../../_images/UML_Joint.png" /></p>
<section id="joint-task-executable-code-bin">
<h3>Joint-Task Executable Code <code class="docutils literal notranslate"><span class="pre">bin/*</span></code><a class="headerlink" href="#joint-task-executable-code-bin" title="Permalink to this headline">¶</a></h3>
<section id="bin-enh-s2t-train-py">
<h4>bin/enh_s2t_train.py<a class="headerlink" href="#bin-enh-s2t-train-py" title="Permalink to this headline">¶</a></h4>
<p>Similarly to the interface of SSE training code <code class="docutils literal notranslate"><span class="pre">enh_train.py</span></code>, <code class="docutils literal notranslate"><span class="pre">enh_s2t_train.py</span></code> takes the training and modular parameters from the scripts, and calls</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="n">tasks</span><span class="o">.</span><span class="n">enh_s2t</span><span class="o">.</span><span class="n">EnhS2TTask</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>to build a joint-task object for training the joint-model based on a configuration with both SSE and s2t models setting with or without pre-trained checkpoints.</p>
</section>
<section id="bin-asr-inference-py-bin-diar-inference-py-and-bin-st-inference-py">
<h4>bin/asr_inference.py, bin/diar_inference.py, and bin/st_inference.py<a class="headerlink" href="#bin-asr-inference-py-bin-diar-inference-py-and-bin-st-inference-py" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">inference</span></code> function in <code class="docutils literal notranslate"><span class="pre">asr_inference.py</span></code>, <code class="docutils literal notranslate"><span class="pre">diar_inference.py</span></code>, and <code class="docutils literal notranslate"><span class="pre">st_inference.py</span></code> builds and call a</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">Speech2Text</span>
	<span class="k">class</span> <span class="nc">DiarizeSpeech</span>
</pre></div>
</div>
<p>object with the data-iterator for testing and validation.  During their initialization, the classes build a joint-task object <code class="docutils literal notranslate"><span class="pre">ESPnetEnhS2TModel</span></code> with pre-trained joint-task models and configurations.</p>
</section>
</section>
<section id="joint-task-control-class-tasks-enh-s2t-py">
<h3>Joint-task Control Class <code class="docutils literal notranslate"><span class="pre">tasks/enh_s2t.py</span></code><a class="headerlink" href="#joint-task-control-class-tasks-enh-s2t-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">EnhS2TTask</span><span class="p">(</span><span class="n">AbsTask</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">EnhS2TTask</span></code> is designed for joint-task model. The subtask models are created and sent into the <code class="docutils literal notranslate"><span class="pre">ESPnetEnhS2TModel</span></code> to create a joint-task object.</p>
</section>
<section id="joint-task-modules-enh-espnet-enh-s2t-model-py">
<h3>Joint-Task Modules <code class="docutils literal notranslate"><span class="pre">enh/espnet_enh_s2t_model.py</span></code><a class="headerlink" href="#joint-task-modules-enh-espnet-enh-s2t-model-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="k">class</span> <span class="nc">ESPnetEnhS2TModel</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ESPnetEnhS2TModel</span></code> takes a front-end <code class="docutils literal notranslate"><span class="pre">enh_model</span></code>, and a back-end <code class="docutils literal notranslate"><span class="pre">s2t_model</span></code> (such as ASR, SLU, ST, and SD models) as inputs to build a joint-model.</p>
<p><img alt="../../_images/joint_init.png" src="../../_images/joint_init.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">forward</span></code> function of the class follows the general design in ESPnet2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> 	<span class="k">def</span>  <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speech_mix</span><span class="p">,</span> <span class="n">speech_ref</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>which processes speech and only returns losses for <a class="reference external" href="https://github.com/espnet/espnet/blob/master/espnet2/train/trainer.py#L87-L108">Trainer</a> to update the model.</p>
</section>
</section>
</section>
<section id="espnet-se-user-interface">
<h1>ESPnet-SE++ User Interface<a class="headerlink" href="#espnet-se-user-interface" title="Permalink to this headline">¶</a></h1>
<section id="building-a-new-recipe-from-scratch">
<h2>Building a New Recipe from Scratch<a class="headerlink" href="#building-a-new-recipe-from-scratch" title="Permalink to this headline">¶</a></h2>
<p>Since ESPnet2 provides common scripts such as <code class="docutils literal notranslate"><span class="pre">enh.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">enh_asr.sh</span></code> for each task, users only need to create <code class="docutils literal notranslate"><span class="pre">local/data.sh</span></code>  for the data preparation of a new corpus.  The generated data follows the Kaldi-style structure:</p>
<p><img alt="../../_images/data_structure.png" src="../../_images/data_structure.png" /></p>
<p>The detailed instructions for data preparation and building new recipes in espnet2 are described in the <a class="reference external" href="https://github.com/espnet/espnet/tree/master/egs2/TEMPLATE">link</a>.</p>
</section>
<section id="inference-with-pre-trained-models">
<h2>Inference with Pre-trained Models<a class="headerlink" href="#inference-with-pre-trained-models" title="Permalink to this headline">¶</a></h2>
<p>Pretrained models from ESPnet are provided on HuggingFace and Zenodo. Users can download and infer with the models.<code class="docutils literal notranslate"><span class="pre">model_name</span></code> in the following section should be <code class="docutils literal notranslate"><span class="pre">huggingface_id</span></code> or one of the tags in the <a class="reference external" href="https://github.com/espnet/espnet_model_zoo/blob/master/espnet_model_zoo/table.csv">table.csv</a> in <a class="reference external" href="https://github.com/espnet/espnet_model_zoo">espnet_model_zoo</a> . Users can also directly provide a Zenodo URL or a HuggingFace URL.</p>
<section id="inference-api">
<h3>Inference API<a class="headerlink" href="#inference-api" title="Permalink to this headline">¶</a></h3>
<p>The inference functions are from the <code class="docutils literal notranslate"><span class="pre">enh_inference</span></code> and <code class="docutils literal notranslate"><span class="pre">enh_asr_inference</span></code> in the executable code <code class="docutils literal notranslate"><span class="pre">bin/</span></code></p>
<p><img alt="../../_images/inference.png" src="../../_images/inference.png" /></p>
<p>Calling <code class="docutils literal notranslate"><span class="pre">SeparateSpeech</span></code> and <code class="docutils literal notranslate"><span class="pre">Speech2Text</span></code> with unprocessed audios returns the separated speech and their recognition results.</p>
<section id="sse">
<h4>SSE<a class="headerlink" href="#sse" title="Permalink to this headline">¶</a></h4>
<p><img alt="../../_images/inference_SSE.png" src="../../_images/inference_SSE.png" /></p>
</section>
<section id="joint-task">
<h4>Joint-Task<a class="headerlink" href="#joint-task" title="Permalink to this headline">¶</a></h4>
<p><img alt="../../_images/inference_joint.png" src="../../_images/inference_joint.png" /></p>
<p>The details for downloading models and inference are described in <a class="reference external" href="https://github.com/espnet/espnet_model_zoo">espnet_model_zoo</a>.</p>
</section>
</section>
</section>
</section>
<section id="demonstrations">
<h1>Demonstrations<a class="headerlink" href="#demonstrations" title="Permalink to this headline">¶</a></h1>
<p>The demonstrations of ESPnet-SE can be found in the following google colab links:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://colab.research.google.com/drive/1fjRJCh96SoYLZPRxsjF9VDv4Q2VoIckI?usp=sharing">ESPnet SSE Demonstration: CHiME-4 and WSJ0-2mix</a></p></li>
<li><p><a class="reference external" href="https://colab.research.google.com/drive/1hAR5hp8i0cBIMeku8LbGXseBBaF2gEyO#scrollTo=0kIjHfagi4T1">ESPnet-SE++ Joint-Task Demonstration: L3DAS22 Challenge and SLURP-Spatialized</a></p></li>
</ul>
</section>
<section id="development-plan">
<h1>Development plan<a class="headerlink" href="#development-plan" title="Permalink to this headline">¶</a></h1>
<p>The development plan of the ESPnet-SE++ can be found in <a class="reference external" href="https://github.com/espnet/espnet/issues/2200">Development plan for ESPnet2 speech enhancement</a>. In addition, we will explore the combinations with other front-end tasks, such as using ASR as a front-end model and TTS as a back-end model for speech-to-speech conversion.</p>
</section>
<section id="conclusions">
<h1>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">¶</a></h1>
<p>In this paper, we introduce the software structure and the user interface of ESPnet-SE++, including the SSE task and joint-task models. ESPnet-SE++ provides general recipes for training models on different corpus and a simple way for adding new recipes. The joint-task implementation further shows that the modularized design improves the flexibility of ESPnet.</p>
</section>
<section id="acknowledgement">
<h1>Acknowledgement<a class="headerlink" href="#acknowledgement" title="Permalink to this headline">¶</a></h1>
<p>This work used the Extreme Science and Engineering Discovery Environment (XSEDE) [&#64;Towns:2014], which is supported by NSF grant number ACI-1548562. Specifically, it used the Bridges system [&#64;Nystrom:2015], which is supported by NSF award number ACI-1445606, at the Pittsburgh Supercomputing Center (PSC).</p>
</section>
<section id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Shinji Watanabe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>